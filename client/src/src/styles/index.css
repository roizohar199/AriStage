@tailwind base;
@tailwind components;
@tailwind utilities;

/* -------------------------------------------------------
   Theme tokens
   - Default is dark (:root)
   - Light mode: document.documentElement.dataset.theme = 'light'
-------------------------------------------------------- */

/* ğŸ”¥ ×¤×•× ×˜ */
html {
  font-size: 16px;
}

@media (min-width: 1024px) {
  html {
    font-size: 16px;
  }
}

body {
  @apply font-assistant;
}

#root {
  height: 100%;
  overflow: hidden;
}

/* --- DISABLED BUTTON --- */
button:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

/* -------------------------
   TOKENS: DARK (default)
-------------------------- */
:root {
  /* neutrals (dark -> light) */
  --neutral-999: 0 0 0; /* #000000 */
  --neutral-950: 24 24 24; /* #181818 */
  --neutral-900: 36 36 36; /* #242424 */
  --neutral-850: 48 48 48; /* #303030 */
  --neutral-800: 60 60 60; /* #3c3c3c */
  --neutral-750: 72 72 72; /* #484848 */
  --neutral-700: 88 88 88; /* #585858 */
  --neutral-650: 104 104 104; /* #686868 */
  --neutral-600: 122 122 122; /* #7a7a7a */
  --neutral-550: 140 140 140; /* #8c8c8c */
  --neutral-500: 158 158 158; /* #9e9e9e */
  --neutral-450: 176 176 176; /* #b0b0b0 */
  --neutral-400: 194 194 194; /* #c2c2c2 */
  --neutral-350: 210 210 210; /* #d2d2d2 */
  --neutral-300: 224 224 224; /* #e0e0e0 */
  --neutral-250: 236 236 236; /* #ececec */
  --neutral-200: 244 244 244; /* #f4f4f4 */
  --neutral-150: 250 250 250; /* #fafafa */
  --neutral-100: 255 255 255; /* #ffffff */

  /* brand */
  --brand-primary: 245 158 11;
  --brand-primary-light: 255 185 63;
  --brand-primary-dark: 206 130 0;

  /* semantic base */
  --app-bg: var(--neutral-950);
  --app-text: var(--neutral-100);
  --app-placeholder: var(--neutral-500);

  /* semantic shadows (Linear/iOS-ish for dark: light-ish shadow) */
  --shadow-surface: 0 1px 2px rgb(var(--neutral-999) / 0.06);
  --shadow-raised:
    0 4px 10px rgb(var(--neutral-999) / 0.08),
    0 1px 3px rgb(var(--neutral-999) / 0.06);
  --shadow-floating:
    0 12px 28px rgb(var(--neutral-999) / 0.2),
    0 12px 28px rgb(var(--neutral-999) / 0.2);
  --shadow-overlay:
    0 22px 60px rgb(var(--neutral-999) / 0.12),
    0 6px 18px rgb(var(--neutral-999) / 0.1);
  --shadow-pressed: inset 0 1px 2px rgb(var(--neutral-999) / 0.1);

  /* glass tokens */
  --glass-bg: rgb(var(--neutral-900) / 0.55);
  --glass-border: rgb(var(--neutral-700) / 0.5);
  --glass-shadow: var(--shadow-floating);

  /* -------------------------
     Motion tokens
     - Semantic animation system
     - Transform + opacity only
  -------------------------- */
  --ease-default: cubic-bezier(0.22, 1, 0.36, 1);
  --ease-press: cubic-bezier(0.4, 0, 0.6, 1);

  --dur-hover: 140ms;
  --dur-press: 90ms;
  --dur-enter: 200ms;
  --dur-exit: 200ms;
  --dur-overlay: 220ms;
}

/* -------------------------
   TOKENS: LIGHT
-------------------------- */
:root[data-theme="light"] {
  --neutral-950: 255 255 255; /* #ffffff */
  --neutral-900: 248 248 248; /* #f8f8f8 */
  --neutral-850: 242 242 242; /* #f2f2f2 */
  --neutral-800: 232 232 232; /* #e8e8e8 */
  --neutral-750: 220 220 220; /* #dcdcdc */
  --neutral-700: 204 204 204; /* #cccccc */
  --neutral-650: 184 184 184; /* #b8b8b8 */
  --neutral-600: 163 163 163; /* #a3a3a3 */
  --neutral-550: 143 143 143; /* #8f8f8f */
  --neutral-500: 122 122 122; /* #7a7a7a */
  --neutral-450: 102 102 102; /* #666666 */
  --neutral-400: 82 82 82; /* #525252 */
  --neutral-350: 64 64 64; /* #404040 */
  --neutral-300: 48 48 48; /* #303030 */
  --neutral-250: 36 36 36; /* #242424 */
  --neutral-200: 24 24 24; /* #181818 */
  --neutral-150: 12 12 12; /* #0c0c0c */
  --neutral-100: 24 24 24; /* #181818 */
  --neutral-50: 0 0 0; /* #000000 */

  /* brand (×¢×“×™×£ ×œ×©××•×¨ ×§×‘×•×¢; ×× ××ª×” ××ª×¢×§×© ×œ×©× ×•×ªâ€”××¤×©×¨) */
  --brand-primary: 245 158 11;
  --brand-primary-light: 255 185 63;
  --brand-primary-dark: 206 130 0;

  /* semantic base */
  --app-bg: var(--neutral-950);
  --app-text: var(--neutral-100);
  --app-placeholder: var(--neutral-500);

  /* shadows for light: dark-ish shadow (neutral-100 is black here) */
  --shadow-surface: 0 1px 2px rgb(var(--neutral-100) / 0.08);
  --shadow-raised:
    0 4px 10px rgb(var(--neutral-100) / 0.1),
    0 1px 3px rgb(var(--neutral-100) / 0.08);
  --shadow-floating:
    0 12px 28px rgb(var(--neutral-100) / 0.14),
    0 2px 6px rgb(var(--neutral-100) / 0.1);
  --shadow-overlay:
    0 22px 60px rgb(var(--neutral-100) / 0.18),
    0 6px 18px rgb(var(--neutral-100) / 0.12);
  --shadow-pressed: inset 0 1px 2px rgb(var(--neutral-100) / 0.14);

  /* glass tokens */
  --glass-bg: rgb(var(--neutral-900) / 0.7);
  --glass-border: rgb(var(--neutral-650) / 0.55);
  --glass-shadow: var(--shadow-floating);
}

/* -------------------------
   Glass utility
-------------------------- */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  box-shadow: var(--glass-shadow);
}

/* Scrollbar for in-app scrolling containers */
.app-scroll {
  scrollbar-width: thin;
  scrollbar-color: transparent transparent;
}

.app-scroll.scrolling {
  scrollbar-color: rgb(var(--tw-color-brand-primary)) transparent;
}

.app-scroll::-webkit-scrollbar {
  width: 6px;
}

.app-scroll::-webkit-scrollbar-track {
  background: transparent;
}

.app-scroll::-webkit-scrollbar-thumb {
  background-color: transparent;
  border-radius: 999px;
  transition: background-color 0.3s ease;
}

.app-scroll.scrolling::-webkit-scrollbar-thumb {
  background-color: rgb(var(--tw-color-brand-primary));
}

/* --- SAFE AREA FOR BOTTOM NAV --- */
.bottom-safe {
  padding-bottom: env(safe-area-inset-bottom);
}

/* --- PLACEHOLDER COLOR (tokenized) --- */
input::placeholder {
  color: rgb(var(--app-placeholder));
}

/* --- DATE/TIME: Hide default UI text when empty --- */
input[type="date"]::-webkit-datetime-edit,
input[type="time"]::-webkit-datetime-edit {
  color: transparent;
}

input[type="date"].has-value::-webkit-datetime-edit,
input[type="time"].has-value::-webkit-datetime-edit {
  color: rgb(var(--app-text)) !important;
}

/* --- INPUT TEXT COLOR --- */
input[type="date"],
input[type="time"] {
  color: rgb(var(--app-text));
}

input[type="date"]::-webkit-datetime-edit,
input[type="date"]::-webkit-datetime-edit-text,
input[type="date"]::-webkit-datetime-edit-month-field,
input[type="date"]::-webkit-datetime-edit-day-field,
input[type="date"]::-webkit-datetime-edit-year-field,
input[type="time"]::-webkit-datetime-edit,
input[type="time"]::-webkit-datetime-edit-text,
input[type="time"]::-webkit-datetime-edit-hour-field,
input[type="time"]::-webkit-datetime-edit-minute-field {
  color: rgb(var(--app-text));
}

/* --- Focus styles (×œ× ×œ×‘×˜×œ ×œ×’××¨×™) --- */

input:focus-visible {
  outline: none;
}

input {
  outline: none;
}
/* -------------------------------------------------------
   Semantic animation system
   Rules:
   - Use ONLY transform + opacity for motion
   - Respect prefers-reduced-motion
-------------------------------------------------------- */

@keyframes fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fade-out {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

@keyframes scale-in {
  from {
    transform: scale(0.98);
  }
  to {
    transform: scale(1);
  }
}

@keyframes slide-up {
  from {
    transform: translateY(10px);
  }
  to {
    transform: translateY(0);
  }
}

/* Tokens
   NOTE: Apply these to the element you want to animate.
   Keep usage semantic (cards/buttons/modals/dropdowns).
*/
.animation-enter {
  animation:
    fade-in var(--dur-enter) var(--ease-default) both,
    slide-up var(--dur-enter) var(--ease-default) both;
  will-change: transform, opacity;
}

.animation-exit {
  animation: fade-out var(--dur-exit) var(--ease-default) both;
  will-change: opacity;
}

.animation-hover {
  transition:
    transform var(--dur-hover) var(--ease-default),
    opacity var(--dur-hover) var(--ease-default);
  will-change: transform, opacity;
}

.animation-hover:hover {
  transform: translateY(-2px);
}

.animation-press {
  transition:
    transform var(--dur-press) var(--ease-press),
    opacity var(--dur-press) var(--ease-press);
  will-change: transform, opacity;
}

.animation-press:active {
  transform: scale(0.98);
  opacity: 0.96;
}

.animation-overlay {
  animation:
    fade-in var(--dur-overlay) var(--ease-default) both,
    scale-in var(--dur-overlay) var(--ease-default) both;
  will-change: transform, opacity;
}

@media (prefers-reduced-motion: reduce) {
  .animation-enter,
  .animation-exit,
  .animation-overlay {
    animation: none !important;
    opacity: 1 !important;
    transform: none !important;
  }

  .animation-hover,
  .animation-press {
    transition: none !important;
  }

  .animation-hover:hover,
  .animation-press:active {
    opacity: 1 !important;
    transform: none !important;
  }
}

/* Header: avatar dropdown should open inward (avoid off-screen) */
[dir="ltr"] .header-user-dropdown {
  right: 0;
  left: auto;
}

[dir="rtl"] .header-user-dropdown {
  left: 0;
  right: auto;
}
